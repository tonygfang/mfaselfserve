<!DOCTYPE html>
<html lang="en">
  <head>
    {{>head}}

    <link href="/assets/css/event_modal.css" type="text/css" rel="stylesheet" />
    <script src="/assets/js/event_modal.js"></script>
    <script src="/assets/js/stepup_iframe.js"></script>
    
  </head>
  <body id="samples">

    {{>menu}}
   
    {{>popup-stepup-iframe}}
    
    <input type="hidden" id="stepupUrl" name="stepupUrl" value="{{{stepupUrl}}}" />

    <div id="content" class="ui padded grid relaxed">
      <div id="doc" class="column eight wide">
        <div class="doc-overview">
          <h2 class="ui dividing header" data-se="overview-doc-header">
            My Step Up MFA testing
          </h2>
          <p>Hello, {{userinfo.name}}.
          </p>
          <p>This step up uses the Okta-hosted Sign In Widget embedded in an iFrame.</p> 
          <p>Transfers > $1000 will trigger a step up.</p>
          
          Advantages:
          <div class="ui bulleted list">
            <div class="item">Easier to implement</div>
            <div class="item">Do not need to make Okta API calls</div>
            <div class="item">Do not need to create MFA UI for MFA challenge/verification</div>
          </div>
          
          Disadvantages:
          <div class="ui bulleted list">
            <div class="item">Less flexibility to change UI</div>
            <div class="item">Requires iFrame embedding</div>
            <div class="item">Requires Okta OIDC SPA app with implicit grant enabled</div>
            <div class="item">Requires 3rd Party cookies</div>
            <div class="item">Webauthn factors must be enrolled from Okta tenant (not application)</div>
          </div>
          
        </div>
        
        <div id="transfer_success_msg" class="ui positive message">
        </div>

        <div id="transfer_error_msg" class="ui negative message">
        </div>

        <h3 class="ui dividing header">
          Account History
        </h2>

        <table class="ui table">
          <thead>
            <tr>
              <th>Balance Details</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody>
              <tr>
                <td>Ending balance as of <script> document.write("<strong>" + (new Date()).toString() + "</strong>");</script></td>
                <td>$5500.29</td>
              </tr>

              <tr>
                <td>Available balance</td>
                <td>$5200.00</td>
              </tr>

          </tbody>
        </table>

        <h3 class="ui dividing header">
          Transfers
        </h2>

        <div id="from_account" class="ui selection dropdown expand">
          <i class="dropdown icon"></i>
          <div class="default text">Select from account</div>
          <div class="menu">
            <div class="item" data-value="800000">800000 Corporate</div>
            <div class="item" data-value="800001">800001 Chequing</div>
          </div>
        </div>

        <div id="to_account" class="ui selection dropdown expand">
          <i class="dropdown icon"></i>
          <div class="default text">Select to account</div>
          <div class="menu">
            <div class="item" data-value="800000">800000 Corporate</div>
            <div class="item" data-value="800001">800001 Chequing</div>
          </div>
        </div>

        <div class="ui input expand">
          <input id="amount" type="text" placeholder="Amount to transfer" />
        </div>

        <input id='transfer' class='ui primary button' type='button' value='Transfer' onclick='validateTransfer();' />


      </div>

    </div>
  </body>
</html>
